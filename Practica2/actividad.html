<!DOCTYPE html>
<html>
    <head>
        <!-- ENLACES PARA UNA FUENTE DIFERENTE-->
        <meta charset="UTF-8">
        <title>Actividad Ciclismo en Aranjuez</title>
        <link rel="stylesheet" type="text/css" href="Estilos.css">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
        <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Yellowtail&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    </head>
    <body class="Body">
        <!-- SECCION DEL TITULO-->
        <header class="WrapperTitulo">
            <img class="BoxTituloImagen" src="ImagenesActividades/images2.jpeg"></img>
            <h1 class="BoxTitulo" >Mister Monta√±a</h1> 
            <nav class="BoxMenus">
                <h3>Menu1</h3>
                <h3>Menu2</h3>   
                <h3>Menu3</h3>
            </nav> 
        </header>


        <!-- SECCION DEL CUERPO INCLUYE TANTO ENLACES COMO ACTIVIDADES-->
        <main class="WrapperCuerpo">
            <div class="BoxEnlaces">
                <a class="BoxEnlacesBox" href="https://www.komoot.com/es-es/guide/1541192/rutas-en-bici-en-aranjuez" >
                    <img class="ImagenActividadPortada" src="ImagenesActividades/Aranjuez.jpeg">
                    <h1 class="ActividadNombre">Mejores 12 rutas en Aranjuez</h1>
                </a >
                <a class="BoxEnlacesBox" href="https://www.sanferbike.com/videostv/nueva-tienda-sanferbike-en-pozuelo-de-alarcon/" >
                    <img class="ImagenActividadPortada" src="ImagenesActividades/bicicletasJuanma.jpeg">
                    <h1 class="ActividadNombre">¬øNecesitas una bicicleta nueva?</h1>
                </a >
                <a class="BoxEnlacesBox" href="https://rawsuperdrink.com/products/kit-ciclista" >
                    <img class="ImagenActividadPortada" src="ImagenesActividades/kitCiclismo.jpeg">
                    <h1 class="ActividadNombre">Inicia tu etapa de ciclismo con un kit perfecto</h1>
                </a >   
            </div>
            <!--
                SECCION DE TODOS LOS COMPONENTES DE LA EXPLICACION DE LAS ACTIVIDADES
            -->
            <div class="WrapperExplicacionActividad">
                <div class="SeccionTituloActividad">
                    <h1> CICLISMO EN LA SENDA DE ARANJUEZ</h1>
                </div>

                <img class="SeccionIcono" src="ImagenesActividades/images2.jpeg"></img>

                <div class="SeccionPrecioActividad">
                    <h2>Fecha: 16-03-2024 </h2>
                    <h2>Coste: 30‚Ç¨ </h2>     
                </div>

                <div class="SeccionExplicacion">
                        <h1>Disfruta de una Sesi√≥n de Ciclismo en la Senda de Aranjuez</h1>
                         <p class="Texto">
                            Emb√°rcate en una emocionante aventura ciclista por la pintoresca Senda de Aranjuez, un lugar emblem√°tico que te permitir√° sumergirte en la belleza natural de la regi√≥n. Esta senda, conocida por sus hermosos paisajes y su baja dificultad, es ideal tanto para ciclistas principiantes como para aquellos que buscan un paseo relajante.
                        </p>
                            
                        <h2>Paisajes Inolvidables a lo Largo del Recorrido</h2>
                        <p class="Texto">
                            A lo largo de la ruta, podr√°s deleitarte con paisajes que te robar√°n el aliento. Desde campos verdes y bosques frondosos hasta el r√≠o Tajo serpenteante a tu lado, cada giro del camino te ofrece una nueva vista panor√°mica que vale la pena disfrutar.
                        </p>
                            
                        <h2>Perfecta para Principiantes</h2>
                        <p class="Texto">
                            La Senda de Aranjuez es perfecta para aquellos que se est√°n iniciando en el ciclismo. Con un grado de dificultad bajo, encontrar√°s tramos planos y suaves pendientes que te permitir√°n pedalear c√≥modamente mientras te familiarizas con tu bicicleta.
                        </p>
                            
                        <h2>Consejos para tu Aventura</h2>
                        <p class="Texto">
                            - Puedes llevar tu bicicleta o alquilarnos una, contamos con diferentes tama√±os para el que se ajuste mejor a ti.<br>
                            - No olvides llevar contigo agua y algunos snacks para reponer energ√≠as durante el recorrido.<br>
                            - Viste ropa c√≥moda y calzado adecuado para ciclismo.<br>
                            - No te olvides de tu c√°mara, ¬°querr√°s capturar estos momentos inolvidables!<br><br>
                        <u>Duracion estimada del recorrido <strong>3 horas</strong></u>
                            
                </div>
                <!-- SECCION FOTOS DE LA ACTIVIDADES-->    
                <div class="SeccionFotos1">
                    <!-- ELEMENTOS PARA MOSTRA GRAFICOS Y SUS LEYENDAS DE MANERA QUE NO SE DESCOLOQUEN CON ZOOM ETC-->
                    <figure>
                        <img class="ImagenActividad" src="ImagenesActividades/Ciclismo.jpeg" alt="Ciclista en la ruta">
                        <figcaption><em>Ciclista en la ruta</em></figcaption>
                    </figure>

                    <figure>
                        <img class="ImagenActividad" src="ImagenesActividades/ImagenPaisaje.jpeg" alt="Paisaje dentro de la ruta">
                        <figcaption><em>Paisaje dentro de la ruta (REAL)</em></figcaption>
                    </figure>

                </div>
                <div class="SeccionImprimir">
                    <a class="BoxA" href="https://www.instagram.com/"><img class="ImagenLogo" src="Logos/cd939-logo-instagram-png.png"></img></a>
                    <a class="BoxA" href="https://www.facebook.com/"><img class="ImagenLogo" src="Logos/facebook-logo-black-transparent.png"></img></a>
                    <a class="BoxA" href="https://web.whatsapp.com/"><img class="ImagenLogo" src="Logos/whatsapp-logo-png.png"></img></a>
                    <div><a class="BoxA" href="actividad_imprimir.html"><h1 class="SeccionImprimir2">Imprimir</h1></a></div> <!-- Con el div la hitbox esta correcta-->
                </div>
            </div>
            <!-- Seccion de comentarios (Practica 2)-->
            <div id="seccionComentarios" class="Comentarios" >
                <!-- boton para abrir comentarios cuando lo pulsas-->
                <button type="button" id="botonComentarios" class="BotonSimple" onclick="AbrirComentarios()"></button>
                <h3 id="h3" class="ComentariosH3">¬° Comenta sobre tu experiencia !</h3>
                <!-- Dentro de este div se crearan los hijos para tener la lista de comentarios-->
                <div id="listaComentarios" class="ListaComentarios">
                </div>
                <h3 id="h32" class="ComentariosH3">! Deja aqui tu comentario !</h3>
                <!-- Antes usaba form pero al no tener nada relacionado a servidor y htpp no es necesario y lo deje como div -->
                <div id="formularioComentario" class="FormularioComentario">
                    <!-- Etiquetamos cada input con un label-->
                    <label for="nombre">Nombre:</label>
                    <input type="text" id="nombre" placeholder="Introduzca su nombre">
                        
                    <label for="email">Email:</label>
                    <input type="email" id="email" placeholder="Ejemplo: Pablo21@gmail.com" >
                    <!-- oninput significa que cada vez que haya un cambio se realiza la funcion especificada-->
                    <label for="nuevoComentario">Comentario:</label>
                    <textarea id="nuevoComentario" placeholder="Escribe tu comentario aqu√≠" onkeyup="BuscarComentario()" ></textarea>
                    <!-- boton para enviar comentario-->
                    <button type="button" onclick="agregarComentario()">Enviar Comentario</button>
                </div>
                    
            </div>

        </main>    

        <footer class="CopyRigth"><h3>&copy; SIBW - Antonio Haro Arriaza - 2024 - Contacto: Antonioharoarriaza1@gmail.com</h3></footer>

        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

        <script>
            var Escondido = true;
            var PrimeraVez = true;
            /*  Booleano para escondido para saber si hay que abrir los comentarios y taparlos, y primera vez para poner el comentario de ejemplo*/
            function AbrirComentarios(){
                if(PrimeraVez){
                    // creo los comentarios de ejemplo
                    PrimeraVez = false;
                    var nombre = "Fernando Lopez";
                    var nuevoComentario = "¬°Qu√© experiencia tan incre√≠ble en la ruta de ciclismo por las monta√±as de Aranjuez! Los paisajes eran simplemente espectaculares,una verdadera maravilla para los ojos. Lo mejor de todo fue lo f√°cil que result√≥ la ruta, perfecta para disfrutar del pedaleo sin complicaciones. Adem√°s, conoc√≠ a personas geniales y compartimos risas y aventuras juntos. ¬°Definitivamente una jornada divertida e inolvidable!üöµüèûÔ∏èüòä";
                    var nuevoElemento = document.createElement("div");
                    nuevoElemento.classList.add("EstructuraComentarios");
                    var fechaFormateada = new Date().toLocaleDateString() + ', ' + new Date().toLocaleTimeString();
                    nuevoElemento.innerHTML =  "<span class='NombreComentario'>" + "<img class='ImagenComentario' src='Logos/usuario.png'>" + nombre + "<small class='FechaComentario'>" + "  " + fechaFormateada + "</small>" + "</span><br>" + "<p class='TextoComentario'>" + nuevoComentario + "</p>";
                    listaComentarios.appendChild(nuevoElemento);

                    nombre = "Matilda Rodriguez";
                    nuevoComentario = "¬°Me encant√≥ la ruta! El monitor era muy cuqui y atento con los participantes. Si he de poner alguna pega es que para la gente muy principiante se hace un poco pesado estar horas en bicicleta aunque haya descansos entre medias, pero por todo lo dem√°s un 10/10 üëåüòÅ";
                    nuevoElemento = document.createElement("div");
                    nuevoElemento.classList.add("EstructuraComentarios");
                    fechaFormateada = new Date().toLocaleDateString() + ', ' + new Date().toLocaleTimeString();
                    nuevoElemento.innerHTML =  "<span class='NombreComentario'>" + "<img class='ImagenComentario' src='Logos/usuario.png'>" + nombre + "<small class='FechaComentario'>" + "  " + fechaFormateada + "</small>" + "</span><br>" + "<p class='TextoComentario'>" + nuevoComentario + "</p>";
                    listaComentarios.appendChild(nuevoElemento);
                    PrimeraVez = false;
                }
                if(Escondido){
                    // cambio las clases y los displays para abrir los comentarios
                    document.getElementById("seccionComentarios").className = "ComentariosAbiertos";
                    document.getElementById("botonComentarios").className = "BotonSimple2";
                    document.getElementById("listaComentarios").style.display = "flex";
                    document.getElementById("formularioComentario").style.display = "flex";
                    document.getElementById("h3").style.display = "block";
                    document.getElementById("h32").style.display = "block";
                    Escondido = false;
                }else{
                    // cambio las clases y los displays para cerrar los comentarios
                    document.getElementById("seccionComentarios").className = "Comentarios";
                    document.getElementById("botonComentarios").className = "BotonSimple";
                    document.getElementById("listaComentarios").style.display = "none";
                    document.getElementById("formularioComentario").style.display = "none";
                    document.getElementById("h3").style.display = "none";
                    document.getElementById("h32").style.display = "none";
                    Escondido = true;
                }
            }

            function agregarComentario() {
                //recogemos los valores que el usuario ha introducido
                var nombre = document.getElementById("nombre").value;
                var email = document.getElementById("email").value;
                var nuevoComentario = document.getElementById("nuevoComentario").value;
                var listaComentarios = document.getElementById("listaComentarios");
                // la hora de creacion del comentaario y el dia
                var fechaFormateada = new Date().toLocaleDateString() + ', ' + new Date().toLocaleTimeString();

                // comprobamos que no hay nada vacio si hay algo vacio sale de la funcion y no manda el comentario
                if (nombre === '' || email === '' || nuevoComentario === '') {
                    Swal.fire({
                        icon: 'error',
                        text: 'Por favor, completa todos los campos.',
                     });
                    return;
                }
                // las terminaciones de correos que compara para el filtro
                var posibleEmails = ["@gmail.com", "@outlook.es", "@yahoo.com","@outlook.com", "@correo.ugr.es"];
                var Valido = false;

                for(var i = 0; i <  posibleEmails.length; i++){
                    // comprueba todos los posibles email y si esta cambia el valido a true que significa que es posible 
                    // . significa que minimo debe haber un caracter antes y dolar que debe ser el final de la palabra para 
                    // evitar por ejemplo @correo.ugr.es12
                    posibleEmail = new RegExp('.' + posibleEmails[i] + "$");

                    if(email.search(posibleEmail) != -1){
                        Valido = true;
                        break;
                    }
                }   
                
                // si no es valido salta notificacion y no se manda el comentario
                if(!Valido){
                    Swal.fire({
                        icon: 'error',
                        text: 'Por favor, introduzca un email valido',
                     });
                    return;
                }

                // Despues de todas las comprobaciones creamos un nuevo elemento y le damos clase para poder modificarlo con css
                var nuevoElemento = document.createElement("div");
                nuevoElemento.classList.add("EstructuraComentarios");

                // Le metemos el html que va a tener el div
                nuevoElemento.innerHTML =  "<span class='NombreComentario'>" + "<img class='ImagenComentario' src='Logos/usuario.png'>" + nombre + "<small class='FechaComentario'>"  + fechaFormateada + "</small>" + "</span>" + "<p class='TextoComentario'>" + nuevoComentario + "</p>";
               
                // Lo metemos como hijo de lista comentarios donde se crearan todos los comentarios que introducimos
                listaComentarios.appendChild(nuevoElemento);

                // Cambiamos el valor a los datos para despues de introducirlo se queden vacios
                document.getElementById("nombre").value = "";
                document.getElementById("email").value = "";
                document.getElementById("nuevoComentario").value = "";
                
                // Notificacion de exito
                Swal.fire({
                        icon: "success",
                        text: 'Comentario agregado',
                     });
                     
            }

            // Funcion para buscar malos comentarios
            function BuscarComentario(){
                // creamos una lista de palabras prohibidas, y extraemos el comentario
                var comentario = document.getElementById("nuevoComentario").value;
                var palabrasProhibidas = ["estupido", "imbecil" , "puta", "prostituta","polla" , "mierda"];

                for(var i = 0; i <  palabrasProhibidas.length; i++){
                    // crea esta expresion por cada palabra, \\b significa que tienen que ser el principio y final de la palabra y gi 
                    // viene de global que si hay la misma palabra repetida tambien la cambia e i de inclusive que da igual si es mayusculas o 
                    // minusculas esta comentado al decir explicitamente en la practicas que esto no se pide.
                    //var palabrota = new RegExp('\\b' + palabrasProhibidas[i] + '\\b', 'gi');
                    
                    var palabrota = (palabrasProhibidas[i]);

                    // Busca la palabra y si esta la remplaza por asteriscos de la misma longitud que la palabra
                    comentario = comentario.replace(palabrota,"*".repeat(palabrasProhibidas[i].length));
                }
                
                // cambia el comentario para que salgan los asteriscos
                document.getElementById("nuevoComentario").value = comentario;
            }

        </script>
    </body>
</html> 